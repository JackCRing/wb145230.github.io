<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            // 这2句是必须写的
            function connectWebViewJavascriptBridge(callback) {
                if (window.WebViewJavascriptBridge) {
                    callback(WebViewJavascriptBridge)
                } else {
                    document.addEventListener('WebViewJavascriptBridgeReady',
                                              function() {
                                              callback(WebViewJavascriptBridge)
                                              },
                                              false)
                }
            }
        // 这2句是必须写的
        connectWebViewJavascriptBridge(function(bridge) {
                                        bridge.init(function(message, responseCallback) {
                                               message = JSON.parse(message);                           
                                               var element = document.getElementById(message.imageUrl)
                                               if (element.src.match("loading")) {
                                                    element.src = message.imagePaths
                                               }
                                        });

                                        bridge.callHandler('testObjcCallback', {'url': 'http://img.baidu.com/img/iknow/wenku/lxg1900X280-lxg.jpg'}, function(response) {

                                        });  
                                    })
            </script>
        <br />
        <p>这个里面是是测试代码,里面有1个图片
        <br />
        <img src = "loading" id = "http://img.baidu.com/img/iknow/wenku/lxg1900X280-lxg.jpg"/></p>
    </body>
</html>
